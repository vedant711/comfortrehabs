{% load static %}
<!DOCTYPE html>
<html lang="en-US" dir="ltr">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <!-- ===============================================-->
    <!--    Document Title-->
    <!-- ===============================================-->
    <title>Products | Comfort Rehabs</title>


    <!-- ===============================================-->
    <!--    Favicons-->
    <!-- ===============================================-->
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'assets/img/favicons/favicon.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'assets/img/favicons/favicon.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'assets/img/favicons/favicon.png' %}">
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'assets/img/favicons/favicon.png' %}">
    <link rel="manifest" href="{% static 'assets/img/favicons/manifest.json' %}">
    <meta name="msapplication-TileImage" content="{% static 'assets/img/favicons/favicon.png' %}">
    <meta name="theme-color" content="#ffffff">
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/searchbuilder/1.4.1/js/dataTables.searchBuilder.min.js"></script>
    <script src="https://cdn.datatables.net/datetime/1.4.0/js/dataTables.dateTime.min.js"></script>


    <!-- ===============================================-->
    <!--    Stylesheets-->
    <!-- ===============================================-->
    <link href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="{% static 'assets/css/theme.css' %}" rel="stylesheet" />

  </head>
<body>
  <script>
    window.onload = () => {
      $(document).ready(function() {
            $('#dataTable').removeAttr('width').DataTable( {
                // dom: 'Qlfrtip',
                // scrollY:        "300px",
                // scrollX:        '1000px',
                scrollCollapse: true,
                // paging:         false,
                // columnDefs: [
                //     { width: 200, targets: 0 }
                // ],
                // fixedColumns: true
            });
          })
    }

    const addBtnClick = () => {
      document.getElementById('data').style.display = 'none';
      document.getElementById('add-form').style.display = 'block';

    }

    const listBtnClick = () => {
      document.getElementById('data').style.display = 'block';
      document.getElementById('add-form').style.display = 'none';

    }
    const redirect = (link) => {
            window.location = link
        }
  </script>
    <main class="main" id="top">
        <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3 d-block" data-navbar-on-scroll="data-navbar-on-scroll">
            <div class="container"><a class="navbar-brand" href="/"><img src="{% static 'assets/img/gallery/logo.png' %}" width="118" alt="logo" /></a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"> </span></button>
              <div class="collapse navbar-collapse border-top border-lg-0 mt-4 mt-lg-0" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto pt-2 pt-lg-0 font-base">
                  <!-- <li class="nav-item px-2"><a class="nav-link" href="/">Home</a></li> -->
    
                  <li class="nav-item px-2"><a class="nav-link" aria-current="page" href="/super-root-user/joints">Joints</a></li>
                  <li class="nav-item px-2"><a class="nav-link" href="/super-root-user/products">Products</a></li>
                  <!-- <li class="nav-item px-2"><a class="nav-link" href="#findUs">Membership</a></li> -->
                  <!-- <li class="nav-item px-2"><a class="nav-link" href="#findUs">Help </a></li> -->
                  <li class="nav-item px-2"><a class="nav-link" href="/super-root-user/contact">Leads</a></li>
                  <li class="nav-item px-2"><a class="nav-link" href="/super-root-user/people">People</a></li>

                  <li class="nav-item px-2"><a class="nav-link" href="/super-root-user/logout">Logout</a></li>

                </ul>
                <!-- <a class="btn btn-sm btn-outline-primary rounded-pill order-1 order-lg-0 ms-lg-4" href="#!">Sign In</a> -->
              </div>
            </div>
          </nav>    

          <center><section class="py-8" id="add-form" style="display: none;">
          <center><button class="btn btn-primary rounded-pill" id="list-btn" style="margin-bottom: 20px" onclick="listBtnClick()">List</button></center>

            <div class="container" style="text-align: center;">
              <div class="row" style="text-align: center;">
                <div class="bg-holder bg-size" style="background-image:url({% static 'assets/img/gallery/dot-bg.png' %});background-position:bottom right;background-size:auto;text-align: center;">
                </div>
                <!--/.bg-holder-->
    
                <!-- <div class="col-lg-6 z-index-2 mb-5"><img class="w-100" src="{% static 'assets/img/gallery/appointment.png' %}" alt="..." /></div> -->
                <div class="col-lg-6 z-index-2" style="text-align: center;">
                  <form class="row g-3" style="text-align: center;" method="post" action="/super-root-user/products_add" id="add-form-form" onsubmit="submitForm()" enctype="multipart/form-data">
                    <div class="col-md-6">
                      <label class="visually-hidden" for="inputName">Product Name</label>
                      <input class="form-control form-livedoc-control" id="inputName" type="text" placeholder="Product Name" name="title"/>
                    </div>
                    <!-- <div class="col-md-6">
                      <label class="visually-hidden" for="inputPhone">Description</label>
                      <input class="form-control form-livedoc-control" id="inputPhone" type="text" placeholder="Description" />
                    </div> -->
                    <div class="col-md-6">
                      <label class="form-label visually-hidden" for="inputCategory">Category</label>
                      <select class="form-select" id="inputCategory" name="joint">
                        <option selected="selected">Select Joint</option>
                        {% for joint in joints %}
                        <option value="{{joint.id}}"> {{joint.joint}}</option>
                        {% endfor %}
                        
                      </select>
                    </div>
                    <!-- <div class="col-md-6">
                      <label class="form-label visually-hidden" for="inputEmail">Email</label>
                      <input class="form-control form-livedoc-control" id="inputEmail" type="email" placeholder="Email" />
                    </div> -->
                    <div class="col-md-12">
                      <label class="form-label visually-hidden" for="validationTextarea">Description</label>
                      <textarea class="form-control form-livedoc-control" id="validationTextarea" placeholder="Message" style="height: 250px;" required="required" name="description"></textarea>
                    </div>

                    <div class="col-md-12">
                      <label class="form-label visually-hidden" for="validationTextarea">Image</label>
                      <input class="form-control form-livedoc-control" id="Image" placeholder="Image" required="required" name="image" type="file">
                    </div>
                    <div class="col-12">
                      <div class="d-grid">
                        <button class="btn btn-primary rounded-pill" type="submit">Submit</button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </section></center>

          <section class="py-8" id="data" style="width:80%;margin-left: 10%;">


          <center><button class="btn btn-primary rounded-pill" id="add-btn" style="margin-bottom: 20px" onclick=addBtnClick()>+ Add</button></center>

          <center><table id="dataTable" class="display nowrap" style="width:100%;">
            <thead>
            <tr>
                <!-- <th></th> -->
                <th align="center">Product Name</th>
                <th align="center">Joint</th>
                <th></th>
                <th></th>
                <!-- <th>Details</th> -->

            </tr>
        </thead>
        <tbody>
            {% for product in products %}

                <tr>
                    
                    <td align="center">{{product.title}}</td>
                    <td align="center">{{product.joint}}</td>
                    <!-- <td>{{log.queueId|make_list|slice:':8'|join:''}}....</td> -->
                    <td align="center"><button class="btn btn-primary rounded-pill"  onclick="redirect('/super-root-user/edit-products/{{product.id}}')" style="padding: 0.75rem 2rem;">Edit</button></td>
                    <td align="center"><button class="btn btn-primary rounded-pill"  onclick="redirect('/super-root-user/delete-products/{{product.id}}')" style="padding: 0.75rem 2rem;">Remove</button></td>

                </tr>
            {% endfor %}
        </tbody>

        </table></center>
        </section>
    </main> 
    <script src="{% static 'vendors/@popperjs/popper.min.js' %}"></script>
    <script src="{% static 'vendors/bootstrap/bootstrap.min.js' %}"></script>
    <script src="{% static 'vendors/is/is.min.js' %}"></script>
    <script src="https://scripts.sirv.com/sirvjs/v3/sirv.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=window.scroll"></script>
    <script src="{% static 'vendors/fontawesome/all.min.js' %}"></script>
    <script src="{% static 'assets/js/theme.js' %}"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fjalla+One&amp;family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100&amp;display=swap" rel="stylesheet">
</body>